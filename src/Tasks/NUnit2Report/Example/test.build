<?xml version="1.0" encoding="ISO-8859-1" ?>
<project name="NUnitReport" default="nunitreport" basedir=".">
    <!-- Init Nant properties -->
    <tstamp property="build.date" pattern="dd-MM-yyyy" verbose="true"/>
    <sysinfo/>

    <target name="nunitreport">
        <!-- This path needs to be set to the location where  NUnit2ReportTasks was built to -->
        <loadtasks assembly="D:\cvs\NAntContrib\build\nantcontrib-0.85-debug\bin\NAnt.NUnit2ReportTasks.dll" />
        <!-- Example 1 -->
        <!-- By default the report is in english and format is noframes, out file is index.htm opendesc="yes"-->
        <nunit2report todir="Compagny-Argos-NoFrame-Report">
            <fileset>
                <include name="Compagny.Argos-result.xml" />
            </fileset>
            <summaries><!-- The C# XML comment file for the test dll-->
                <include name="Compagny.Argos.Test.xml" />
            </summaries>
        </nunit2report>

        <!-- The same report with frame in french, out file is index.htm by default-->
        <nunit2report format="frames" lang="fr" todir="Compagny-Argos-Frame-Report">
            <fileset>
                <include name="Compagny.Argos-Result.xml" />
            </fileset>
            <summaries>
                <include name="Compagny.Argos.Test.xml" />
            </summaries>
        </nunit2report>

        <echo message="Compagny report generated." />

        <!-- Example 2 -->
        <nunit2report out="Nunit-Report.html" todir="NUnit-NoFrame-Report" >
            <fileset>
                <include name="NUnit-Result.xml" />
            </fileset>
        </nunit2report>

        <!-- The same report with frame -->
        <nunit2report format="frames" todir="NUnit-Frame-Report">
            <fileset>
                <include name="NUnit-Result.xml" />
            </fileset>
        </nunit2report>

        <echo message="NUnit report generated."/>

        <!-- Example 3 : Mock test lang="fr" -->
        <nunit2report out="Mock-Report.html" lang="fr" todir="Mock-NoFrame-Report" >
            <fileset>
                <include name="Mock-Test-Result.xml" />
            </fileset>
        </nunit2report>
        <nunit2report format="frames" todir="Mock-Frame-Report">
            <fileset>
                <include name="Mock-Test-Result.xml" />
            </fileset>
        </nunit2report>

        <echo message="Mock report generated."/>
    </target>
    
    <target name="clean" >
        <delete dir="NUnit-NoFrame-Report" failonerror="false"/>
        <delete dir="NUnit-Frame-Report" failonerror="false" />
        <delete dir="Mock-NoFrame-Report" failonerror="false" />
        <delete dir="Mock-Frame-Report" failonerror="false" />
        <delete dir="Compagny-Argos-NoFrame-Report" failonerror="false" />
        <delete dir="Compagny-Argos-Frame-Report" failonerror="false" />
    </target>

 </project>
